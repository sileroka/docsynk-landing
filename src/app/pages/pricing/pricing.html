<div class="pricing-page">
  <!-- Pricing Header -->
  <section class="pricing-header">
    <div class="section-container">
      <h1 class="page-title">Simple, Transparent Pricing</h1>
      <p class="page-subtitle">
        Choose the plan that fits your shipping volume
      </p>

      <!-- Billing Toggle -->
      <div class="billing-toggle">
        <p-selectbutton
          [options]="billingOptions"
          [(ngModel)]="selectedBilling"
          optionLabel="label"
          optionValue="value"
        >
        </p-selectbutton>
        <p-badge
          *ngIf="selectedBilling === 'annual'"
          value="Save 20%"
          severity="success"
          class="discount-badge"
        ></p-badge>
      </div>
    </div>
  </section>

  <!-- Pricing Cards -->
  <section class="pricing-cards-section">
    <div class="section-container">
      <div
        class="pricing-grid grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"
      >
        <!-- Starter Plan -->
        <p-card class="pricing-card">
          <ng-template #header>
            <div class="card-header">
              <h3 class="plan-name text-2xl md:text-3xl">
                {{ plans[0].name }}
              </h3>
              <div class="plan-price">
                <span
                  *ngIf="selectedBilling === 'annual' && plans[0].price > 0"
                  class="original-price text-lg"
                  >${{ plans[0].price }}/mo</span
                >
                <span class="price text-3xl md:text-4xl">{{
                  getPriceLabel(plans[0])
                }}</span>
                <span class="billing-cycle text-sm">{{
                  getBillingCycle()
                }}</span>
              </div>
              <p class="shipments text-base">{{ plans[0].shipments }}</p>
            </div>
          </ng-template>

          <ul class="features-list">
            <li *ngFor="let feature of plans[0].features">
              <i class="pi pi-check text-primary"></i>
              <span class="text-sm md:text-base">{{ feature }}</span>
            </li>
          </ul>

          <ng-template #footer>
            <p-button
              [label]="plans[0].cta"
              class="w-full text-sm md:text-base"
              (onClick)="handleCTA(plans[0])"
            >
            </p-button>
          </ng-template>
        </p-card>

        <!-- Professional Plan -->
        <p-card class="pricing-card popular">
          <div class="popular-ribbon">
            <i class="pi pi-star"></i>
            <span>Most Popular</span>
          </div>

          <ng-template #header>
            <div class="card-header">
              <h3 class="plan-name text-2xl md:text-3xl">
                {{ plans[1].name }}
              </h3>
              <div class="plan-price">
                <span
                  *ngIf="selectedBilling === 'annual' && plans[1].price > 0"
                  class="original-price text-lg"
                  >${{ plans[1].price }}/mo</span
                >
                <span class="price text-3xl md:text-4xl">{{
                  getPriceLabel(plans[1])
                }}</span>
                <span class="billing-cycle text-sm">{{
                  getBillingCycle()
                }}</span>
              </div>
              <p class="shipments text-base">{{ plans[1].shipments }}</p>
            </div>
          </ng-template>

          <ul class="features-list">
            <li *ngFor="let feature of plans[1].features">
              <i class="pi pi-check text-primary"></i>
              <span class="text-sm md:text-base">{{ feature }}</span>
            </li>
          </ul>

          <ng-template #footer>
            <p-button
              [label]="plans[1].cta"
              severity="success"
              class="w-full text-sm md:text-base"
              (onClick)="handleCTA(plans[1])"
            >
            </p-button>
          </ng-template>
        </p-card>

        <!-- Enterprise Plan -->
        <p-card class="pricing-card">
          <ng-template #header>
            <div class="card-header">
              <h3 class="plan-name text-2xl md:text-3xl">
                {{ plans[2].name }}
              </h3>
              <div class="plan-price">
                <span class="price text-3xl md:text-4xl">{{
                  getPriceLabel(plans[2])
                }}</span>
                <span class="billing-cycle text-sm"
                  >Contact us for pricing</span
                >
              </div>
              <p class="shipments text-base">{{ plans[2].shipments }}</p>
            </div>
          </ng-template>

          <ul class="features-list">
            <li *ngFor="let feature of plans[2].features">
              <i class="pi pi-check text-primary"></i>
              <span class="text-sm md:text-base">{{ feature }}</span>
            </li>
          </ul>

          <ng-template #footer>
            <p-button
              [label]="plans[2].cta"
              [outlined]="true"
              class="w-full text-sm md:text-base"
              (onClick)="handleCTA(plans[2])"
            >
            </p-button>
          </ng-template>
        </p-card>
      </div>
    </div>
  </section>

  <!-- FAQ Section -->
  <section class="faq-section">
    <div class="section-container">
      <h2 class="section-title">Frequently Asked Questions</h2>
      <p class="section-subtitle">
        Everything you need to know about billing and shipments
      </p>

      <p-accordion
        [multiple]="false"
        expandIcon="pi pi-plus"
        collapseIcon="pi pi-minus"
        class="faq-accordion"
      >
        <p-accordionpanel *ngFor="let faq of faqs; let i = index" [value]="i">
          <p-accordionheader>{{ faq.question }}</p-accordionheader>
          <p-accordioncontent>
            <p>{{ faq.answer }}</p>
          </p-accordioncontent>
        </p-accordionpanel>
      </p-accordion>
    </div>
  </section>
</div>
